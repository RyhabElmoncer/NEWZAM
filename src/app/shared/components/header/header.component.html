<header class="header header-intro-clearance header-4">
  <!-- Bouton mobile toggle avec icône dynamique -->
  <button class="mobile-menu-toggle d-lg-none" (click)="onMobileMenuClick($event)">
    <i [class]="isMobileMenuOpen ? 'fas fa-times' : 'fas fa-bars'"></i>
  </button>

  <!-- NAVIGATION PRINCIPALE -->
  <div class="header-navigation">
    <div [class]="containerClass">
      <div class="nav-left">
        <div class="logo">
          <a routerLink="/">
            <img src="assets/images/TELEVORA2.png" alt="Logo" class="logo-img">
          </a>
        </div>
        <ul class="main-nav">
          <li class="nav-item">
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
              Accueil
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/actualites" routerLinkActive="active">Actualités</a>
          </li>
          <li class="nav-item has-dropdown" [class.open]="isDropdownOpen('testDebit')">
            <a routerLink="/test-debit" (mouseenter)="openDropdown('testDebit')" (mouseleave)="closeDropdown('testDebit')">
              Test Débit <i class="icon-angle-down"></i>
            </a>
            <ul class="dropdown-menu" [class.open]="isDropdownOpen('testDebit')"
                (mouseenter)="openDropdown('testDebit')" (mouseleave)="closeDropdown('testDebit')">
              <li><a routerLink="/test-eligibilite">Test éligibilité fibre</a></li>
              <li><a routerLink="/test-debit-internet">Test de débit internet</a></li>
              <li><a routerLink="/reseau">Réseau</a></li>
            </ul>
          </li>
          <li class="nav-item has-dropdown" [class.open]="isDropdownOpen('freepro')">
            <a routerLink="/freepro" routerLinkActive="active"
               (mouseenter)="openDropdown('freepro')" (mouseleave)="closeDropdown('freepro')">
              FreePro <i class="icon-angle-down"></i>
            </a>
            <ul class="dropdown-menu" [class.open]="isDropdownOpen('freepro')"
                (mouseenter)="openDropdown('freepro')" (mouseleave)="closeDropdown('freepro')">
              <li><a routerLink="/freepro/mobile">Free Mobile</a></li>
              <li><a routerLink="/freepro/box">Free Box</a></li>
            </ul>
          </li>
          <li class="nav-item has-dropdown" [class.open]="isDropdownOpen('gazElec')">
            <a routerLink="/gaz-electricite" routerLinkActive="active"
               (mouseenter)="openDropdown('gazElec')" (mouseleave)="closeDropdown('gazElec')">
              Gaz & Électricité <i class="icon-angle-down"></i>
            </a>
            <ul class="dropdown-menu" [class.open]="isDropdownOpen('gazElec')"
                (mouseenter)="openDropdown('gazElec')" (mouseleave)="closeDropdown('gazElec')">
              <li><a routerLink="/gaz-electricite/gaz">Gaz</a></li>
              <li><a routerLink="/gaz-electricite/electricite">Électricité</a></li>
            </ul>
          </li>
          <li class="nav-item has-dropdown" [class.open]="isDropdownOpen('grvv')">
            <a routerLink="/grvv-corp" routerLinkActive="active"
               (mouseenter)="openDropdown('grvv')" (mouseleave)="closeDropdown('grvv')">
              GRVV CORP <i class="icon-angle-down"></i>
            </a>
            <ul class="dropdown-menu" [class.open]="isDropdownOpen('grvv')"
                (mouseenter)="openDropdown('grvv')" (mouseleave)="closeDropdown('grvv')">
              <li><a routerLink="/grvv-corp/services">Nos Services</a></li>
              <li><a routerLink="/grvv-corp/contact">Contact</a></li>
            </ul>
          </li>
          <li class="nav-item has-dropdown" [class.open]="isDropdownOpen('assurance')">
            <a routerLink="/assurance" routerLinkActive="active"
               (mouseenter)="openDropdown('assurance')" (mouseleave)="closeDropdown('assurance')">
              Assurance <i class="icon-angle-down"></i>
            </a>
            <ul class="dropdown-menu" [class.open]="isDropdownOpen('assurance')"
                (mouseenter)="openDropdown('assurance')" (mouseleave)="closeDropdown('assurance')">
              <li><a routerLink="/assurance/auto">Assurance Auto</a></li>
              <li><a routerLink="/assurance/habitation">Assurance Habitation</a></li>
            </ul>
          </li>
        </ul>
      </div>

      <!-- Bouton être rappelé en vert -->
      <div class="nav-right">
        <div class="action-buttons">
          <button (click)="onShowModel()" class="btn-rappel">être rappelé</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Sticky header -->

  <!-- MENU MOBILE AMÉLIORÉ -->
  <div class="mobile-nav-overlay" [class.active]="isMobileMenuOpen" (click)="closeMobileMenu()"></div>
  <div class="mobile-nav" [class.active]="isMobileMenuOpen">
    <div class="mobile-nav-content" [class.active]="isMobileMenuOpen">

      <!-- Header mobile avec logo et bouton fermer -->
      <div class="mobile-nav-header">
        <a routerLink="/" (click)="closeMobileMenu()">
          <img src="assets/images/TELEVORA2.png" alt="Logo">
        </a>
      </div>

      <!-- Bouton action principal -->
      <div class="mobile-nav-actions">
        <button (click)="onShowModel(); closeMobileMenu()" class="btn-rappel-mobile">
          <i class="fas fa-phone"></i>
          être rappelé
        </button>
      </div>

      <!-- Menu de navigation -->
      <ul class="mobile-nav-menu">
        <li class="nav-item">
          <a routerLink="/" (click)="closeMobileMenu()" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
            <i class="fas fa-home"></i>
            Accueil
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/actualites" (click)="closeMobileMenu()" routerLinkActive="active">
            <i class="fas fa-newspaper"></i>
            Actualités
          </a>
        </li>
        <li class="nav-item has-dropdown" [class.open]="isDropdownOpen('testDebitMobile')">
          <a (click)="toggleDropdown('testDebitMobile')" class="dropdown-toggle">
            <span>
              <i class="fas fa-tachometer-alt"></i>
              Test Débit
            </span>
            <i class="fas fa-chevron-down dropdown-arrow"></i>
          </a>
          <ul class="dropdown-menu" [class.open]="isDropdownOpen('testDebitMobile')">
            <li><a routerLink="/test-eligibilite" (click)="closeMobileMenu()">Test éligibilité fibre</a></li>
            <li><a routerLink="/test-debit-internet" (click)="closeMobileMenu()">Test de débit internet</a></li>
            <li><a routerLink="/reseau" (click)="closeMobileMenu()">Réseau</a></li>
          </ul>
        </li>
        <li class="nav-item has-dropdown" [class.open]="isDropdownOpen('freeproMobile')">
          <a (click)="toggleDropdown('freeproMobile')" class="dropdown-toggle">
            <span>
              <i class="fas fa-wifi"></i>
              FreePro
            </span>
            <i class="fas fa-chevron-down dropdown-arrow"></i>
          </a>
          <ul class="dropdown-menu" [class.open]="isDropdownOpen('freeproMobile')">
            <li><a routerLink="/freepro/mobile" (click)="closeMobileMenu()">Free Mobile</a></li>
            <li><a routerLink="/freepro/box" (click)="closeMobileMenu()">Free Box</a></li>
          </ul>
        </li>
        <li class="nav-item has-dropdown" [class.open]="isDropdownOpen('gazElecMobile')">
          <a (click)="toggleDropdown('gazElecMobile')" class="dropdown-toggle">
            <span>
              <i class="fas fa-bolt"></i>
              Gaz & Électricité
            </span>
            <i class="fas fa-chevron-down dropdown-arrow"></i>
          </a>
          <ul class="dropdown-menu" [class.open]="isDropdownOpen('gazElecMobile')">
            <li><a routerLink="/gaz-electricite/gaz" (click)="closeMobileMenu()">Gaz</a></li>
            <li><a routerLink="/gaz-electricite/electricite" (click)="closeMobileMenu()">Électricité</a></li>
          </ul>
        </li>
        <li class="nav-item has-dropdown" [class.open]="isDropdownOpen('grvvMobile')">
          <a (click)="toggleDropdown('grvvMobile')" class="dropdown-toggle">
            <span>
              <i class="fas fa-building"></i>
              GRVV CORP
            </span>
            <i class="fas fa-chevron-down dropdown-arrow"></i>
          </a>
          <ul class="dropdown-menu" [class.open]="isDropdownOpen('grvvMobile')">
            <li><a routerLink="/grvv-corp/services" (click)="closeMobileMenu()">Nos Services</a></li>
            <li><a routerLink="/grvv-corp/contact" (click)="closeMobileMenu()">Contact</a></li>
          </ul>
        </li>
        <li class="nav-item has-dropdown" [class.open]="isDropdownOpen('assuranceMobile')">
          <a (click)="toggleDropdown('assuranceMobile')" class="dropdown-toggle">
            <span>
              <i class="fas fa-shield-alt"></i>
              Assurance
            </span>
            <i class="fas fa-chevron-down dropdown-arrow"></i>
          </a>
          <ul class="dropdown-menu" [class.open]="isDropdownOpen('assuranceMobile')">
            <li><a routerLink="/assurance/auto" (click)="closeMobileMenu()">Assurance Auto</a></li>
            <li><a routerLink="/assurance/habitation" (click)="closeMobileMenu()">Assurance Habitation</a></li>
          </ul>
        </li>
      </ul>

      <!-- Icônes sociales -->
      <div class="mobile-social-icons">
        <a href="https://wa.me/33756892743" class="social-icon whatsapp" target="_blank" rel="noopener">
          <i class="fab fa-whatsapp"></i>
        </a>
        <a href="https://www.facebook.com/zoneadslmobile/" class="social-icon facebook" target="_blank" rel="noopener">
          <i class="fab fa-facebook-f"></i>
        </a>
        <a href="https://www.youtube.com/channel/UCvqCW_p1nmjJPdJ_bRDOfDA" class="social-icon youtube" target="_blank" rel="noopener">
          <i class="fab fa-youtube"></i>
        </a>
        <a href="https://www.linkedin.com/company/zoneadslmobile" class="social-icon linkedin" target="_blank" rel="noopener">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </div>

      <!-- Footer mobile -->
      <div class="mobile-nav-footer">
        <p class="contact-info">
          <i class="fas fa-phone"></i>
          <a href="tel:+33980803537">09 80 80 35 37</a>
        </p>
        <p class="copyright">© 2025 Televora. Tous droits réservés.</p>
      </div>
    </div>
  </div>
</header>
